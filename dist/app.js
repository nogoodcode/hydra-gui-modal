!function r(l,c,a){function s(e,t){if(!c[e]){if(!l[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(d)return d(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var i=c[e]={exports:{}};l[e][0].call(i.exports,function(t){return s(l[e][1][t]||t)},i,i.exports,r,l,c,a)}return c[e].exports}for(var d="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){var o;o=angular,t("./main.js")(o)},{"./main.js":2}],2:[function(t,e,n){e.exports=function(f){f.module("hydra.gui",[]).factory("Modal",["$q","$timeout","$compile","$rootScope","$rootElement",function(r,t,l,c,a){var s=[],d={},u=null,o={id:"",active:"1",html:"",tmpl:"",text:"",type:"alert",title:"",header:"1",footer:"1",animation:"zoomIn zoomOut-",static:"0",delay:"0",data:null,buttons:[{position:"header",action:"header.cancel",css:"float-right btn btn-sm btn-outline-secondary",label:'<i class="fa fa-times"></i>'},{position:"footer",action:"footer.ok",css:"float-right btn btn-sm btn-outline-primary",label:"OK"},{position:"footer",action:"footer.cancel",css:"float-right btn btn-sm btn-outline-secondary",label:"Cancel"}]},i={getDefaults:function(){return o},setDefaults:function(t){return o=t,this},registerComponent:function(t){return(d[t.id]=t)._index=s.length,s.push(t),u&&(i.custom(u.options,u.which,u.defer),u=null),this},getComponentByIndex:function(t){return s[t]},getComponentById:function(t){return d[t]},removeComponent:function(t){return delete d[t.id],s.splice(t._index,1),this},alert:function(t,e){var n=f.copy(o.buttons);return t.buttons=n,i.custom(t,e)},confirm:function(t,e){var n=f.copy(o.buttons);return t.buttons=n,i.custom(t,e)},prompt:function(t,e){var n=f.copy(o.buttons);return t.buttons=n,i.custom(t,e)},custom:function(t,e,n){var o;if(n=n||r.defer(),f.isUndefined(e)){t._injected=!0,u={options:t,which:s.length,defer:n};var i=l("<hmodal></hmodal>")(c.$new());return a.append(i),t.scope&&console.log("scope",t.scope),n.promise}return f.isString(e)?o=d[e]||null:f.isNumber(e)&&(o=s[e]||null),o?(t.deferred=n,f.extend(o,t),console.log("call model",o),n.promise):r.reject("The requested modal component is not registered.")}};return i}]).component("hmodal",{template:["<div",'ng-if="$ctrl.active"','class="overlay"',">","<div","ng-if=\"$ctrl.active == '1'\"",'ng-attr-id=""',"ng-class=\"['modal d-block']\"","ng-click=\"$ctrl.click('_overlay')\"",">",'<div class="modal-dialog modal-lg" role="document" ng-click="$event.stopImmediatePropagation(); $event.preventDefault();">','<div class="modal-content">','<div class="modal-header" ng-if="$ctrl.header == \'1\' || $ctrl.title">','<h5 class="modal-title h6">{{ $ctrl.title }}</h5>',"<button ",'ng-repeat="btn in $ctrl.buttons"',"ng-if=\"btn.position == 'header'\"",'ng-class="[btn.css]"','ng-bind-html="btn.label"','ng-click="$ctrl.click(btn.action || btn.label)"',"></button>","</div>",'<div class="modal-body">','<div ng-if="$ctrl.tmpl">',"<ng-include",'src="$ctrl.tmpl"','onload="$ctrl.tmplLoad()"',"></ng-transclude>","</div>",'<div ng-if="$ctrl.html">',"<hhtml",'html="$ctrl.html"','scope="$ctrl.data"',"></hhtml>","</div>",'<div ng-if="$ctrl.text">',"{{ $ctrl.text }}","</div>","<div ng-transclude></div>","</div>",'<div class="modal-footer" ng-if="$ctrl.footer == \'1\'">',"<button ",'ng-repeat="btn in $ctrl.buttons"',"ng-if=\"btn.position == 'footer'\"","ng-class=\"[btn.css, 'btn btn-sm']\"",'ng-bind-html="btn.label"','ng-click="$ctrl.click(btn.action)"',"></button>","</div>","</div>","</div>","</div>","</div>"].join(" \n"),bnidings:{id:"<",type:"<",buttons:"<",animation:"<",static:"<",header:"<",footer:"<",delay:"<",title:"<",data:"<",html:"<",tmpl:"<",text:"<"},transclude:!0,controller:["$scope","$timeout","$document","$element","Util","Modal",function(n,t,o,i,e,r){var l=this;l.$onInit=function(){var t=r.getDefaults();e.extendIfUndefined(l,t),l.id="modal-"+e.getInt(),l.active=!0,r.registerComponent(l),l.scope&&e.extendIfUndefined(n,l.scope)},l.$onDestroy=function(){},n.$watch("$ctrl.active",function(t,e){var n=f.element(o[0].body);t?n.addClass("modal-open"):n.removeClass("modal-open")}),l.click=function(t){var e=!0;"_overlay"==t&&!l.static||"header.cancel"==t||"footer.cancel"==t?(e=!1,l.active=!1,l._injected&&(i.remove(),r.removeComponent(l)),l.deferred.resolve({status:e})):"footer.ok"==t&&(l.deferred.promise.finally(function(){l.active=!1}),l.deferred.resolve({status:e,data:n}))}}]})}},{}]},{},[1]);
